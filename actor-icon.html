<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test JS</title>
    <link rel="stylesheet" href="https://www.gstatic.com/dialogflow-console/fast/df-messenger/prod/v1/themes/df-messenger-default.css">
    <script src="https://www.gstatic.com/dialogflow-console/fast/df-messenger/prod/v1/df-messenger.js"></script>
    <script>
        // アイコンの画像URL配列
        const botIcons = [
            "DALL·E 2024-08-27 19.38.14.png",
            "DALL·E 2024-08-27 19.38.jpg",
            "DALL·E 2024-08-27 19.38.png"
        ];

        // ランダムにアイコンを選択
        const randomIcon = botIcons[Math.floor(Math.random() * botIcons.length)];

        // 動的に df-messenger-chat のHTMLを挿入
        document.addEventListener('DOMContentLoaded', () => {
            const dfMessenger = document.createElement('df-messenger');
            dfMessenger.setAttribute('id', 'df-messenger');
            dfMessenger.setAttribute('location', 'asia-northeast1');
            dfMessenger.setAttribute('project-id', 'prj-basf-minorasu-prod');
            dfMessenger.setAttribute('agent-id', '12ea9554-dc66-486e-a288-47c70db6e751');
            dfMessenger.setAttribute('language-code', 'ja');
            dfMessenger.setAttribute('max-query-length', '-1');
            dfMessenger.setAttribute('allow-feedback', 'all');
            dfMessenger.setAttribute('url-allowlist', '*');
            dfMessenger.setAttribute('intent', 'Start_Conversation');

            const dfMessengerChat = document.createElement('df-messenger-chat');
            dfMessengerChat.setAttribute('chat-title', 'Minorasu Dentsu');
            dfMessengerChat.setAttribute('placeholder-text', 'minorasuテストです');
            dfMessengerChat.setAttribute('bot-actor-image', randomIcon); // ランダムな画像をセット
            dfMessenger.appendChild(dfMessengerChat);
            document.body.appendChild(dfMessenger);
        });
    </script>
</head>
<body>
</body>
</html>
