<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>チャットボットサイト</title>
    <link rel="stylesheet" href="https://www.gstatic.com/dialogflow-console/fast/df-messenger/prod/v1/themes/df-messenger-default.css">
    <script src="https://www.gstatic.com/dialogflow-console/fast/df-messenger/prod/v1/df-messenger.js"></script>
    <script>
  let inactivityTimer;

  function resetInactivityTimer() {
    clearTimeout(inactivityTimer);
    inactivityTimer = setTimeout(() => {
      sendCustomEvent('your_event_name');
    }, 10000); // 10 seconds
  }

  function sendCustomEvent(eventName) {
    const requestPayload = {
      event: {
        name: eventName
      }
    };
    window.dfMessenger.renderCustomText(requestPayload);
  }

  document.addEventListener('click', resetInactivityTimer);
  document.addEventListener('keydown', resetInactivityTimer);

  resetInactivityTimer();
</script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f3f3f3;
        }

        header {
            background-color: #4CAF50;
            padding: 10px 20px;
            color: white;
            text-align: center;
        }

        main {
            padding: 20px;
            text-align: center;
        }

df-messenger {
    z-index: 999;
    position: fixed;
    bottom: 0;
    right: 0;
    width: auto; /* Responsive width */
    height: auto; /* Responsive height, 50% of viewport height */
    --df-messenger-font-color: #000;
    --df-messenger-font-family: Google Sans;
    --df-messenger-chat-background: #f3f6fc;
    --df-messenger-message-user-background: #d3e3fd;
    --df-messenger-message-bot-background: #fff;
    --df-messenger-message-actor-image-size: 60px;
}

@media (max-width: 600px) {
    df-messenger {
        width: 100%;
        height: 40vh; /* Adjust height for mobile */
    }
}
    </style>
</head>
<body>

    <df-messenger
        project-id="prj-basf-xarviobot-dev"
        agent-id="a1665471-9343-46bb-a513-398bfaaca268"
        language-code="ja"
        max-query-length="-1"
        allow-feedback="all"
        intent="Start_Conversation">
        <df-messenger-chat
            chat-title="04 Feature Test (former creative)"
            bot-actor-image="DALL·E 2024-08-27 19.38.jpg">
        </df-messenger-chat>
    </df-messenger>
</body>
</html>
